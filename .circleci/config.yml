# .circleci/config.yml
version: 2.1
 
jobs:
  build-medium:
    machine:
      image: ubuntu-2004:202101-01
    resource_class: arm.medium
    steps:
      - run: sudo apt-get update && DEBIAN_FRONTEND=noninteractive sudo apt-get -y -o Dpkg::Options::="--force-confdef" -o Dpkg::Options::="--force-confnew" install build-essential gcc g++ python3 python3-pip python-is-python3 nodejs npm libnss3 libxtst6 libnotify-dev libappindicator3-dev curl git && DEBIAN_FRONTEND=noninteractive sudo apt-get -y -o Dpkg::Options::="--force-confdef" -o Dpkg::Options::="--force-confnew" upgrade
      - run: git clone https://github.com/nukeop/nuclear
      - run: cd nuclear && npm ci && npm run build:linux

workflows:
  build:
    jobs:
      - build-medium

- store_artifacts:
          path: /home/circleci/.npm/_logs
